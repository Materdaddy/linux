From b7ac1bd4fb1dc1f7a1f1e4712e113887ee060e2f Mon Sep 17 00:00:00 2001
From: Alan Tull <r80115@freescale.com>
Date: Mon, 23 Feb 2009 10:48:39 -0600
Subject: [PATCH] ENGR00108162-1 sgtl5000: add audio for imx 3stack

Rename audio platform device from sgtl5000-imx to
imx-3stack-sgtl5000 for consistency.

Signed-off-by: Alan Tull <r80115@freescale.com>
---
 arch/arm/mach-mx25/mx25_3stack.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/arch/arm/mach-mx25/mx25_3stack.c b/arch/arm/mach-mx25/mx25_3stack.c
index 563672c..75e7e05 100644
--- a/arch/arm/mach-mx25/mx25_3stack.c
+++ b/arch/arm/mach-mx25/mx25_3stack.c
@@ -235,7 +235,7 @@ static struct i2c_board_info mxc_i2c_board_info[] __initdata = {
 
 #if defined(CONFIG_SND_SOC_IMX_3STACK_SGTL5000) \
     || defined(CONFIG_SND_SOC_IMX_3STACK_SGTL5000_MODULE)
-static struct mxc_sgtl5000_platform_data sgtl5000_data = {
+static struct mxc_audio_platform_data sgtl5000_data = {
 	.ssi_num = 2,
 	.src_port = 1,
 	.ext_port = 4,
@@ -247,15 +247,15 @@ static struct mxc_sgtl5000_platform_data sgtl5000_data = {
 	.sysclk = 8300000,
 };
 
-static struct platform_device sgtl5000_device = {
-	.name = "sgtl5000-imx",
+static struct platform_device mxc_sgtl5000_device = {
+	.name = "imx-3stack-sgtl5000",
 	.dev = {
 		.release = mxc_nop_release,
 		.platform_data = &sgtl5000_data,
 		},
 };
 
-static void mxc_sgtl5000_init(void)
+static void mxc_init_sgtl5000(void)
 {
 	struct clk *cko1, *parent;
 	unsigned long rate;
@@ -281,10 +281,10 @@ static void mxc_sgtl5000_init(void)
 	clk_enable(cko1);
 	sgtl5000_data.sysclk = rate;
 	sgtl5000_enable_amp();
-	platform_device_register(&sgtl5000_device);
+	platform_device_register(&mxc_sgtl5000_device);
 }
 #else
-static inline void mxc_sgtl5000_init(void)
+static inline void mxc_init_sgtl5000(void)
 {
 }
 #endif
@@ -486,7 +486,7 @@ static void __init mxc_board_init(void)
 	mxc_init_fb();
 	mxc_init_bl();
 	mxc_init_nand_mtd();
-	mxc_sgtl5000_init();
+	mxc_init_sgtl5000();
 	mxc_init_mmc();
 }
 
-- 
1.5.4.4

