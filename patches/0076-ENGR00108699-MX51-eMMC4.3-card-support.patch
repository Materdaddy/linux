From 9c1bde963b666fca9d35f7b62d4be82dc41e8d81 Mon Sep 17 00:00:00 2001
From: Richard Zhu <r65037@freescale.com>
Date: Mon, 2 Mar 2009 13:15:51 +0800
Subject: [PATCH] ENGR00108699 [MX51] eMMC4.3 card support

Lower the clock rate in the card inditification procedure,
to fix the cmd crc error and level up the timing compatible.

Signed-off-by: Richard Zhu <r65037@freescale.com>
---
 arch/arm/mach-mx35/mx35_3stack.c |    2 +-
 arch/arm/mach-mx37/mx37_3stack.c |    2 +-
 arch/arm/mach-mx51/mx51_3stack.c |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/arch/arm/mach-mx35/mx35_3stack.c b/arch/arm/mach-mx35/mx35_3stack.c
index 502b169..bd43541 100644
--- a/arch/arm/mach-mx35/mx35_3stack.c
+++ b/arch/arm/mach-mx35/mx35_3stack.c
@@ -524,7 +524,7 @@ static struct mxc_mmc_platform_data mmc0_data = {
 #else
 	.caps = MMC_CAP_8_BIT_DATA,
 #endif
-	.min_clk = 400000,
+	.min_clk = 150000,
 	.max_clk = 52000000,
 	.card_inserted_state = 0,
 	.status = sdhc_get_card_det_status,
diff --git a/arch/arm/mach-mx37/mx37_3stack.c b/arch/arm/mach-mx37/mx37_3stack.c
index d261188..0c374b7 100644
--- a/arch/arm/mach-mx37/mx37_3stack.c
+++ b/arch/arm/mach-mx37/mx37_3stack.c
@@ -585,7 +585,7 @@ EXPORT_SYMBOL(get_unifi_plat_data);
 static struct mxc_mmc_platform_data mmc_data = {
 	.ocr_mask = MMC_VDD_32_33,
 	.caps = MMC_CAP_4_BIT_DATA,
-	.min_clk = 400000,
+	.min_clk = 150000,
 	.max_clk = 52000000,
 	.card_inserted_state = 0,
 	.status = sdhc_get_card_det_status,
diff --git a/arch/arm/mach-mx51/mx51_3stack.c b/arch/arm/mach-mx51/mx51_3stack.c
index e1a8d00..4b66a0c 100644
--- a/arch/arm/mach-mx51/mx51_3stack.c
+++ b/arch/arm/mach-mx51/mx51_3stack.c
@@ -479,7 +479,7 @@ int sdhc_get_card_det_status(struct device *dev)
 static struct mxc_mmc_platform_data mmc_data = {
 	.ocr_mask = MMC_VDD_32_33,
 	.caps = MMC_CAP_4_BIT_DATA,
-	.min_clk = 400000,
+	.min_clk = 150000,
 	.max_clk = 52000000,
 	.card_inserted_state = 0,
 	.status = sdhc_get_card_det_status,
-- 
1.5.4.4

